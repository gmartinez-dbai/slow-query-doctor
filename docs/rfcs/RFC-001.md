> **ðŸ“¢ Notice:** This RFC coincides with the rebranding of slow-query-doctor to Iqtoolkit Analyzer. 
> See [REBRANDING.md](#rebranding-notice) below for migration details.

**Status:** Open for Community Feedback  
**Published:** November 19, 2025  
**Feedback Deadline:** December 19, 2025  
**Discussion:** [GitHub Discussions](https://github.com/orgs/iqtoolkit/discussions/2)

---

## Executive Summary

**Iqtoolkit Analyzer** is a unified, self-hosted, AI-powered database intelligence platform for query optimization and operational troubleshooting across PostgreSQL, MongoDB, MySQL, and SQL Server.

> **Previously:** slow-query-doctor (v0.1.x PostgreSQL analyzer)  
> **Now:** Iqtoolkit Analyzer (v0.2.2a1+ multi-database platform)  
> **Why rebrand:** MongoDB support shipped; we're multi-database now. Name should match architecture.

**Core Value Proposition:**
- **Privacy-first AI**: Your database logs never leave your infrastructure (Ollama default, OpenAI optional)
- **Multi-database from day one**: PostgreSQL + MongoDB in v0.2.0 (now), not sequential releases
- **Self-hosted only**: No SaaS, no vendor lock-in, full compliance control
- **100% Open-source**: MIT/Apache 2.0 license, community-governed, no commercial offerings planned

**What makes this different:** No existing platform offers unified intelligence across SQL + NoSQL databases with privacy-preserving AI and self-hosted deployment. Iqtoolkit Analyzer fills this critical gap for enterprises that cannot use cloud-based SaaS tools due to compliance, security, or sovereignty requirements.

**Development Roadmap:**
- **v0.2.2a1** (Current): PostgreSQL + MongoDB alpha with OpenAI integration
- **v0.2.3** (Next): Ollama integration, MongoDB aggregation pipeline optimizer, production deployment options
- **v0.3.0** (Future): ML-powered anomaly detection, developer workflow integrations
- **v0.4.0** (Future): MySQL + SQL Server support
- **v1.0 GA** (Future): Production-ready for all four databases

*Note: Timeline depends on community adoption and contributor participation. Dates removed to avoid over-commitment.*

**What we need from you:** Feedback on our self-hosted-only strategy, multi-database priorities, deployment requirements, and rebranding direction.

---

## Rebranding: slow-query-doctor â†’ Iqtoolkit Analyzer

**Why rebrand?** Product evolution from PostgreSQL-only tool to multi-database platform requires name that reflects broader vision. "Iqtoolkit Analyzer" signals self-hosted, privacy-first, enterprise database intelligence.

**What changes:** Project name and GitHub repo (effective Nov 19, 2025). **What stays:** All functionality, licensing, roadmap, and existing deployments (supported through v0.2.3).

---

## Problem Statement

Database teams in enterprises face three operational failures:

### 1. **Fragmented Tooling Across Multiple Databases**

Many enterprises run both PostgreSQL and MongoDB, yet no unified optimization platform exists. Teams use:
- pgAdmin for PostgreSQL (no AI, no MongoDB support)
- MongoDB Compass for MongoDB (no optimization intelligence)
- DBeaver for basic admin (no query optimization)
- Separate monitoring tools per database (Prometheus, Datadog, etc.)

**Result:** Knowledge silos, inconsistent optimization practices, higher mean-time-to-recovery (MTTR) during incidents.

### 2. **Privacy and Compliance Barriers to AI Adoption**

SaaS database optimization tools require shipping production logs to third-party cloudsâ€”unacceptable for some:
- Healthcare (HIPAA)
- Finance (SOC 2, PCI-DSS)
- Government (FedRAMP)
- European enterprises (GDPR data sovereignty)

**Result:** These organizations cannot adopt AI-powered database optimization, leaving them with manual analysis and higher operational costs.

### 3. **Vendor Lock-In and Limited Extensibility**

Existing tools are either:
- Proprietary SaaS with closed APIs (OtterTune: $2k+/year, no self-hosting)
- Single-database focused (PoWA: PostgreSQL-only)
- Admin-focused, not optimization-focused (DBeaver, pgAdmin)

**Result:** No extensible, community-governed platform exists for database intelligence.

---

## Proposed Solution: Iqtoolkit Analyzer Architecture

### Core Strategy: Multi-Database + Privacy-First AI + Self-Hosted

Iqtoolkit Analyzer is built on three architectural pillars:

#### 1. **Unified Database Analyzer Framework**

Database-agnostic core that supports:
- **PostgreSQL** (v0.2.2a1): Slow query parsing from logs, query normalization, anti-pattern detection (5 patterns), static query rewriting suggestions, impact scoring, EXPLAIN plan analysis (ðŸš§ in progress)
- **MongoDB** (v0.2.2a1): Profiler integration, slow query detection, query pattern recognition, efficiency scoring, collection-level analysis, index usage analysis
- **MySQL** (v0.4.0): Coming Q2 2026
- **SQL Server** (v0.4.0): Coming Q2 2026

**Key architectural decision:** Parallel development of PostgreSQL + MongoDB validates the multi-database framework early, rather than building PostgreSQL first and discovering architectural limitations later.

#### 2. **Configurable AI Intelligence Layer (Planned)**

**Current State (v0.2.2a1 - Migration in Progress):**
- PostgreSQL + MongoDB analyzers implemented with OpenAI integration
- Package restructuring from slow-query-doctor â†’ iqtoolkit-analyzer
- Core functionality complete, PyPI publishing pending

**Planned Enhancement:**
- **Ollama Integration (Privacy-First)** - Local AI that runs on your infrastructure with zero external data transmission
- **Flexible AI Provider Architecture** - Switch between Ollama (private) and OpenAI (cloud) per deployment
- **Enhanced AI Capabilities** - Anti-pattern detection, predictive analysis, natural language query explanation

**Note:** "IqAI" refers to this planned configurable AI layer within Iqtoolkit Analyzer. It's not a separate product - it's the intelligence engine that powers query optimization recommendations.

**Design rationale:** Enterprises must choose between privacy (local Ollama) and capability (cloud OpenAI). No competitor offers this choiceâ€”most force SaaS.

#### 3. **Self-Hosted Deployment Strategy**

**Current State (v0.2.2a1 - Migration in Progress):**
- Core functionality implemented (PostgreSQL + MongoDB analyzers)
- Package restructuring for PyPI publication as iqtoolkit-analyzer
- Command-line interface and configuration system ready

**Planned Deployment Options:**
- **Docker** - Single-machine deployment for development/testing
- **Kubernetes with Helm** - Production-grade charts with RBAC, monitoring, and auto-scaling
- **Bare Metal/VM** - Traditional server deployment

**Why Self-Hosted Only (No SaaS):**
- **Compliance control**: Your database logs never leave your infrastructure
- **Zero vendor lock-in**: You own the deployment, data, and configuration
- **Cost predictability**: No per-seat or per-query pricing
- **Security**: No third-party access to sensitive production data
- **Extensibility**: Fork, modify, or extend without restrictions

---

## Key Design Decisions

### Decision 1: Why Build PostgreSQL AND MongoDB in Parallel?

**Rationale:**
- Sequential development (PostgreSQL â†’ MongoDB) delays MongoDB support by 6-12 months
- Building both simultaneously validates the multi-database framework architecture early
- Many of enterprises run both databasesâ€”unified intelligence is the market need[^1]

**Trade-offs:**
- Higher complexity managing two analyzer tracks
- Risk of lower quality if rushed
- **Mitigation:** Laser focus on MVP features (query optimization only, no gold-plating)

### Decision 2: Why Ollama Default, Not OpenAI?

**Rationale:**
- Privacy-first positioning differentiates from pganalyze (SaaS-only) and OtterTune (SaaS-only)[^2][^3]
- Healthcare, finance, and government cannot use cloud-based tools
- Open-source community values privacy and data sovereignty

**Trade-offs:**
- Ollama requires GPU for optimal performance
- Smaller model capabilities vs. OpenAI GPT-4
- **Mitigation:** Make OpenAI optional for teams prioritizing capability over privacy

### Decision 3: Why Self-Hosted Only (No SaaS)?

**Rationale:**
- **Compliance**: HIPAA, GDPR, SOC 2 require data sovereignty
- **Vendor lock-in avoidance**: Open-source + self-hosted = zero lock-in
- **Market gap**: No competitor offers self-hosted, multi-database AI optimization[^2]

**Trade-offs:**
- Users manage their own infrastructure

### Decision 4: Why Rebrand Now?

**Rationale:**
- MongoDB support validates multi-database architecture (not just PostgreSQL anymore)
- Pre-v1.0 GA rebranding is easier than post-1.0 (easier to redirect old references)
- RFC-001 launch provides natural inflection point for "new era" positioning
- Competitive positioning: rebrand signals differentiated architecture + vision

**Trade-offs:**
- Community confusion (old name â†’ new name)
- Infrastructure overhead (repo rename, docs migration)
- **Mitigation:** 30-day migration window (v0.2.3 supports both names); clear guide provided

### Decision 5: Why MIT/Apache 2.0 License?

**Rationale:**
- Enterprise-friendly (no AGPL restrictions)
- Maximizes community contributions
- Allows commercial extensions without forking

---

## Risk Analysis & Mitigation Strategies

### Technical Risks

**Risk 1: Ollama Performance Limitations**
- *Issue:* Local AI models may not match OpenAI GPT-4 quality for complex query optimization
- *Probability:* Medium
- *Impact:* High (affects core value proposition)
- *Mitigation:* 
  - Maintain OpenAI integration as premium option
  - Benchmark Ollama vs OpenAI recommendations in alpha testing
  - Consider hybrid approach (Ollama for basic analysis, OpenAI for complex cases)

**Risk 2: Multi-Database Architecture Complexity**
- *Issue:* Supporting 4 different databases simultaneously increases maintenance burden
- *Probability:* High
- *Impact:* Medium (affects development velocity)
- *Mitigation:*
  - Strict plugin architecture with database-agnostic core
  - Focus on MVP features per database (no gold-plating)
  - Community contributions for database-specific optimizations

**Risk 3: Dependency on External Database APIs**
- *Issue:* MongoDB profiler or PostgreSQL EXPLAIN format changes break integrations
- *Probability:* Low-Medium
- *Impact:* Medium
- *Mitigation:*
  - Version-specific adapters with graceful degradation
  - Comprehensive integration testing across database versions
  - Community monitoring of upstream changes

### Market Risks

**Risk 4: Competitive Response**
- *Issue:* pganalyze or OtterTune adds self-hosted options
- *Probability:* Medium
- *Impact:* High
- *Mitigation:*
  - Open-source moat (they can't replicate community governance)
  - Multi-database advantage (PostgreSQL + MongoDB + MySQL + SQL Server)
  - Privacy-first positioning with Ollama default

**Risk 5: Insufficient Market Demand**
- *Issue:* Self-hosted database optimization market smaller than assumed
- *Probability:* Low-Medium
- *Impact:* High
- *Mitigation:*
  - Alpha testing with 10+ enterprise users for validation
  - Focus on open-source community adoption and contributions
  - GitHub/Docker metrics tracking for demand signals
  - Community governance model ensures project sustainability

### Execution Risks

**Risk 6: Feature Scope Creep**
- *Issue:* Attempting too many features per release slows development velocity
- *Probability:* Medium-High
- *Impact:* Medium (affects delivery)
- *Mitigation:*
  - MVP-focused releases with core optimization features only
  - Community-driven prioritization via GitHub discussions
  - Phased releases (PostgreSQL + MongoDB stable, then MySQL/SQL Server)

**Risk 7: Resource Constraints**
- *Issue:* Insufficient development resources for multi-database platform
- *Probability:* Medium
- *Impact:* High
- *Mitigation:*
  - Open-source community contributions (database experts)
  - Focus on core optimization features, defer nice-to-have features
  - Community-driven development model with contributor recognition

### Success Metrics & Exit Criteria

**Alpha Success (v0.2.2a1-a3):**
- 50+ GitHub stars
- 5+ enterprise alpha testers
- 10+ community feedback responses

**Beta Success (v0.2.3-0.2.5):**
- 200+ GitHub stars
- 25+ production deployments
- 3+ community code contributions

**Pre-GA Success (v0.3.0-0.5.0):**
- 500+ GitHub stars
- 100+ production deployments
- 10+ community contributors
- 2+ database integrations contributed by community

**Pivot Triggers:**
- <10 GitHub stars after 60 days (insufficient interest)
- <3 enterprise alpha testers after 90 days (wrong target market)
- Major security issues in self-hosted deployment model

---

## Roadmap: v0.2.2a1 â†’ v1.0 GA

| Version | Priority | Databases | Key Features | Status |
|---------|----------|-----------|--------------|--------|
| **v0.2.2a1** | Current | PostgreSQL + MongoDB | Core analyzers, OpenAI integration, multi-format reports, package migration | ðŸš§ **Migration in Progress** |
| **v0.2.3** | Next | PostgreSQL + MongoDB | Ollama integration (privacy-first AI), MongoDB pipeline optimizer, Docker deployment | ðŸš§ **In Progress** |
| **v0.3.0** | High | PostgreSQL + MongoDB | ML anomaly detection, developer workflow integrations | ðŸ“‹ **Planned** |
| **v0.4.0** | Medium | + MySQL | MySQL slow query analyzer, unified optimization framework | ðŸ“‹ **Planned** |
| **v0.5.0** | Medium | + SQL Server | SQL Server query optimization, full multi-database support | ðŸ“‹ **Planned** |
| **v1.0 GA** | Future | All 4 databases | Production-ready enterprise deployment for all databases | ðŸ“‹ **Planned** |

---

## Current Implementation Status (v0.2.2a1)

### âœ… What's Shipped
- **PostgreSQL Analyzer**: Log parsing (plain/CSV/JSON), query normalization, anti-pattern detection (5 patterns), static optimization suggestions, impact scoring, EXPLAIN plan analysis (ðŸš§ in progress)
- **MongoDB Analyzer**: Profiler integration, slow query detection, query pattern recognition, collection analysis, index usage tracking, efficiency scoring
- **Core Framework**: Unified report generation, multi-format output (JSON/CSV/Markdown), configurable thresholds
- **OpenAI Integration**: AI-powered query explanations and optimization recommendations

### ðŸš§ Critical Gaps (Blocking "Open-Source Standard" Vision)
1. **Ollama integration** (planned v0.2.3) - privacy-first AI is our competitive moat
2. **PyPI publishing** (Issue #31) - discoverability and adoption friction  
3. **Advanced PostgreSQL features** (planned v0.2.3) - index recommendations beyond anti-patterns, query cost analysis
4. **MongoDB aggregation pipeline optimizer** (planned v0.2.3) - pipeline stage analysis and reordering suggestions
5. **GitHub Actions integration** (planned v0.3.0) - embed in developer workflow
6. **Release automation** (Issue #34) - velocity and consistency

---

## Competitive Positioning

### How Iqtoolkit Analyzer Differs from Existing Tools

| Competitor | Their Focus | Their Limitation | Iqtoolkit Analyzer Advantage |
|------------|-------------|------------------|------|
| **pganalyze** | PostgreSQL monitoring (SaaS) | SaaS-only, PostgreSQL-only, no privacy option | Self-hosted, multi-database, privacy-first |
| **OtterTune** | AI parameter tuning (SaaS) | $2k+/year, cloud-only, no query optimization | Open-source, query optimization, self-hosted |
| **DBeaver** | Universal database IDE | Admin tool, no AI, no optimization intelligence | AI-powered optimization, unified intelligence |
| **Bytebase** | DevOps/change management | No AI, no MongoDB, governance-focused | AI optimization, MongoDB support, query-focused |
| **MongoDB Compass** | MongoDB admin tool | MongoDB-only, no AI, no optimization | Multi-database, AI recommendations, privacy-first |
| **PoWA** | PostgreSQL workload analyzer | PostgreSQL-only, no AI, no self-service | Multi-database, AI-powered, extensible |

**Bottom line:** No existing platform offers unified intelligence across SQL + NoSQL databases with privacy-preserving AI and self-hosted deployment. This is Iqtoolkit Analyzer's white space.

---

## Questions for Community Feedback

We need your input to validate our strategic decisions:

### Database Priorities
1. **Does PostgreSQL + MongoDB from day one (v0.2.0) address a real operational need for your organization?**
   - [ ] Yes - we run both databases
   - [ ] No - we only run PostgreSQL
   - [ ] No - we only run MongoDB
   - [ ] Other databases matter more (specify: ______)

2. **If we had to choose one database to ship first in v0.2.0, which would you prioritize?**
   - [ ] PostgreSQL
   - [ ] MongoDB
   - [ ] MySQL
   - [ ] SQL Server

### AI and Privacy
3. **How critical is self-hosted AI (Ollama) vs. cloud AI (OpenAI) for your organization?**
   - [ ] Self-hosted is mandatory (compliance/privacy requirements)
   - [ ] Self-hosted is preferred (but not blocking)
   - [ ] Cloud AI is acceptable
   - [ ] Doesn't matter

4. **Would your organization consider using Iqtoolkit Analyzer if it required sending database logs to a third-party cloud service?**
   - [ ] Yes
   - [ ] No
   - [ ] Only with SOC 2/HIPAA certification

### Deployment
5. **What deployment model matters most to your team?**
   - [ ] Docker Compose (development/testing)
   - [ ] Kubernetes + Helm (production)
   - [ ] Bare metal / VM deployment
   - [ ] Managed service (we'd pay for hosted version)

### Rebranding
6. **Does the rebrand from slow-query-doctor â†’ Iqtoolkit Analyzer make sense?**
   - [ ] Yes - better reflects the multi-database vision
   - [ ] Yes - but I prefer the old name
   - [ ] No - stick with slow-query-doctor
   - [ ] Don't care

7. **Would you use Iqtoolkit Analyzer if it shipped today (v0.2.2a1) with PostgreSQL + MongoDB support?**
   - [ ] Yes - production use
   - [ ] Yes - testing/evaluation
   - [ ] No - missing critical features (specify: ______)
   - [ ] No - prefer existing tools

8. **Would you contribute to Iqtoolkit Analyzer?**
   - [ ] Yes - code contributions
   - [ ] Yes - documentation
   - [ ] Yes - feedback/bug reports
   - [ ] Yes - financial sponsorship
   - [ ] No

9. **What's the biggest blocker to adopting Iqtoolkit Analyzer today?**
   - ____________________________________________

---

## How to Provide Feedback

### Submit Feedback
- **GitHub Discussions:** [Reply to RFC-001](https://github.com/orgs/iqtoolkit/discussions/2)
- **Email:** gio@iqtoolkit.ai

---

## FAQ

**Q: Why self-hosted only? Why not offer a managed SaaS option?**

**A:** Self-hosted is Iqtoolkit Analyzer's competitive moat. SaaS tools already exist and serve teams comfortable with cloud-hosted database monitoring. Iqtoolkit Analyzer serves enterprises that cannot or will not send production database logs to third-party clouds due to compliance (HIPAA, GDPR, SOC 2), security policies, or data sovereignty requirements. This is a large, underserved market.

**Q: What if I prefer cloud AI (OpenAI) over self-hosted AI (Ollama)?**

**A:** OpenAI is fully supported as an optional configuration. You can configure Iqtoolkit Analyzer to use OpenAI by providing your own API key. We default to Ollama because privacy-first positioning differentiates us from competitors, but users have full choice.

**Q: When will MySQL and SQL Server be supported?**

**A:** Q2 2026 (v0.4.0 for MySQL, v0.5.0 for SQL Server). We're prioritizing PostgreSQL + MongoDB first because (1) they validate our multi-database architecture early, and (2) 40% of enterprises run both.[^1] MySQL/SQL Server will reuse the PostgreSQL analyzer framework, accelerating development.

**Q: How is Iqtoolkit Analyzer different from Bytebase?**

**A:** Bytebase focuses on database DevOps (schema versioning, change management, team collaboration). Iqtoolkit Analyzer focuses on query optimization and performance intelligence. They solve different problems and can coexist in the same organization.

**Q: Can I contribute new database analyzers (e.g., Cassandra, Oracle)?**

**A:** Yes. Iqtoolkit Analyzer's architecture is extensible. After v1.0 GA, we'll document the analyzer plugin API and welcome community-contributed database analyzers. Open-source + community-governed means the platform grows beyond our initial roadmap.

We do not plan to relicense or switch to SaaS. Self-hosted + open-source is our commitment.

**Q: What happens if development stops?**

**A:** Open-source + permissive license means the community can fork, maintain, and extend Iqtoolkit Analyzer independently. No vendor lock-in, no single point of failure.

---

## Next Steps: Your Feedback Shapes v0.3.0+

**Feedback window:** November 19 - December 19, 2025 (30 days)

**What happens next:**
1. **Week 1-2 (Nov 19-30):** Community feedback collection via GitHub Discussions, survey, and direct outreach
2. **Week 3 (Dec 1-7):** Synthesize feedback and publish summary
3. **Week 4 (Dec 8-16):** Finalize v0.3.0 roadmap based on community priorities
4. **v0.2.3 Release (Dec 20, 2025):** Ollama integration + MongoDB pipeline optimizer ships under new brand

**Your input matters.** Iqtoolkit Analyzer's roadmap is community-driven. If you have strong opinions on database priorities, deployment models, or AI providers, now is the time to share them.

---

**Iqtoolkit Analyzer: Unified database intelligence for enterprises that demand privacy, control, and extensibility.**

---

## Migration Guide: slow-query-doctor â†’ Iqtoolkit Analyzer

### For Existing Users

**Timeline:**
- **Nov 19, 2025:** New repo `iqtoolkit/iqtoolkit-analyzer` created
- **Dec 1, 2025:** Old repo redirects to new repo
- **v0.2.3 (Dec 20, 2025):** Both names supported in CLI/config
- **v0.3.0+ (Q1 2026):** New name only

**Action Required:**
```bash
# Update your git remote
git remote set-url origin https://github.com/iqtoolkit/iqtoolkit-analyzer.git

# Update Docker images (when available)
docker pull iqtoolkit/analyzer:latest

# Update pip install (when published)
pip install iqtoolkit-analyzer
```

**Configuration Migration:**
Your existing `.slowquerydoctor.yml` files will continue working through v0.2.3. New installations should use `.iqtoolkit-analyzer.yml`.

### For Contributors

**GitHub Issues/PRs:** All existing issues and PRs will transfer to the new repository. Your contribution history is preserved.

**Documentation:** All links will redirect during the transition period. Update bookmarks to `iqtoolkit.ai/analyzer/docs`.

---

**License:** This RFC is licensed under CC BY 4.0. You are free to share and adapt with attribution.


